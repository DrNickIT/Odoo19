<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <template id="report_productlabel_dymo_sort_otters" inherit_id="product.report_productlabel_dymo">
            <xpath expr="//t[@t-foreach='quantity.items()']" position="attributes">
                <attribute name="t-foreach">sorted(quantity.items(), key=lambda x: x[0].default_code or '')</attribute>
            </xpath>
        </template>

        <template id="report_productlabel_dymo_custom" inherit_id="product.report_simple_label_dymo">
            <xpath expr="//div[hasclass('o_label_full')]" position="replace">

                <div class="o_label_full" t-att-style="table_style">

                    <div style="font-size: 0.9em; margin-bottom: 4px; overflow: auto; line-height: 1.1;">
                        <span t-field="product.default_code"
                              style="font-weight: bold; float: left; font-size: 1.2em;"/>

                        <strong t-out="pricelist._get_product_price(product, 1, currency=pricelist.currency_id or product.currency_id)"
                                t-options="{'widget': 'monetary', 'display_currency': pricelist.currency_id or product.currency_id, 'label_price': True}"
                                style="font-weight: bold; float: right; font-size: 1.2em;"/>
                    </div>

                    <div style="clear: both;"/>

                    <div class="text-start o_label_small_barcode" style="margin-bottom: 3px;">
                        <t t-if="barcode">
                            <div t-out="barcode" style="padding:0; height: 1.5em;" t-options="{'widget': 'barcode', 'quiet': 0, 'symbology': 'auto', 'img_style': barcode_size}"/>
                        </t>
                    </div>

                    <div style="font-size: 0.8em; margin-bottom: 1px; line-height: 1.1; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;">
                        Titel: <span t-field="product.name"/>
                    </div>

                    <t t-set="is_variant" t-value="product._name == 'product.product'"/>

                    <t t-if="is_variant and product.product_template_attribute_value_ids">
                        <t t-set="attribute_values" t-value="product.product_template_attribute_value_ids"/>
                    </t>
                    <t t-elif="not is_variant and product.attribute_line_ids">
                        <t t-set="attribute_values" t-value="product.attribute_line_ids.product_template_value_ids"/>
                    </t>

                    <t t-if="attribute_values">
                        <t t-set="maat_kenmerk"
                           t-value="attribute_values.filtered(lambda a: a.attribute_id.name == 'Maat')"/>

                        <t t-if="maat_kenmerk">
                            <div style="font-size: 0.85em;">
                                Maat: <span t-esc="maat_kenmerk[0].name"/>
                            </div>
                        </t>
                    </t>

                </div>

            </xpath>
        </template>
    </data>
</odoo>